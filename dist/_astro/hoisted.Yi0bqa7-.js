const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/firestore.3eO7oRFa.js","_astro/index.esm2017.BeiKNkIx.js","_astro/client.DCNKASv_.js"])))=>i.map(i=>d[i]);
import{_ as i}from"./preload-helper.COgNFeIc.js";function d(e,t="/artigos"){const n=t.replace(/\/+$/,""),r=e.replace(/^\/+/,"");return n?r?`${n}/${r}`:`${n}/`:`/${r}`}const p={artigo:"Artigo",roteiro:"Roteiro","plano-diretor":"Plano Diretor"},m=e=>!e||typeof e.toDate!="function"?"Sem data":new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium"}).format(e.toDate()),u=e=>{if(!e.length)return null;const t=document.createElement("div");return t.className="tag-chips",t.setAttribute("aria-label","Tags"),e.forEach(n=>{const r=document.createElement("span");r.className="tag-chip",r.textContent=n,t.appendChild(r)}),t},h=e=>{const t=document.createElement("article");t.className="post-card",t.dataset.postType=e.type;const n=document.createElement("div");n.className="post-card-header";const r=document.createElement("span");r.className="post-badge",r.textContent=p[e.type]??e.type;const l=document.createElement("span");l.className="post-date",l.textContent=m(e.publishedAt??e.updatedAt),n.append(r,l);const o=document.createElement("h3"),a=document.createElement("a");a.href=d(`p/${e.id}/`),a.textContent=e.title,o.appendChild(a);const s=document.createElement("p");s.className="post-excerpt",s.textContent=e.excerpt,t.append(n,o,s);const c=u(e.tags??[]);return c&&t.appendChild(c),t};document.addEventListener("DOMContentLoaded",async()=>{const e=document.querySelector("[data-post-list]");if(!e)return;const n=new URLSearchParams(window.location.search).get("type")??"",l=new Set(["artigo","roteiro","plano-diretor"]).has(n)?n:"all";document.querySelectorAll("[data-filter-chip]").forEach(o=>{const a=o.getAttribute("data-filter-chip"),s=l==="all"&&a==="all"||a===l;o.classList.toggle("is-active",s),s?o.setAttribute("aria-current","page"):o.removeAttribute("aria-current")});try{const a=await(await i(()=>import("./firestore.3eO7oRFa.js"),__vite__mapDeps([0,1,2]))).listPublishedPosts(),s=l==="all"?a:a.filter(c=>c.type===l);if(e.innerHTML="",!s.length){const c=document.createElement("p");c.className="post-empty",c.textContent="Nenhum post publicado ainda.",e.appendChild(c);return}s.forEach(c=>{e.appendChild(h(c))})}catch(o){console.log(o),e.innerHTML="";const a=document.createElement("p");a.className="post-empty",a.textContent="Nao foi possivel carregar posts.",e.appendChild(a)}});
