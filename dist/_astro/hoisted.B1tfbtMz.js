const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/firestore.3eO7oRFa.js","_astro/index.esm2017.BeiKNkIx.js","_astro/client.DCNKASv_.js"])))=>i.map(i=>d[i]);
import{_ as i,w as d}from"./withBase.BubNOM90.js";const p={artigo:"Artigo",roteiro:"Roteiro","plano-diretor":"Plano Diretor"},m=e=>!e||typeof e.toDate!="function"?"Sem data":new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium"}).format(e.toDate()),u=e=>{if(!e.length)return null;const a=document.createElement("div");return a.className="tag-chips",a.setAttribute("aria-label","Tags"),e.forEach(s=>{const c=document.createElement("span");c.className="tag-chip",c.textContent=s,a.appendChild(c)}),a},h=e=>{const a=document.createElement("article");a.className="post-card",a.dataset.postType=e.type;const s=document.createElement("div");s.className="post-card-header";const c=document.createElement("span");c.className="post-badge",c.textContent=p[e.type]??e.type;const l=document.createElement("span");l.className="post-date",l.textContent=m(e.publishedAt??e.updatedAt),s.append(c,l);const n=document.createElement("h3"),t=document.createElement("a");t.href=d(`p/${e.id}/`),t.textContent=e.title,n.appendChild(t);const r=document.createElement("p");r.className="post-excerpt",r.textContent=e.excerpt,a.append(s,n,r);const o=u(e.tags??[]);return o&&a.appendChild(o),a};document.addEventListener("DOMContentLoaded",async()=>{const e=document.querySelector("[data-post-list]");if(!e)return;const s=new URLSearchParams(window.location.search).get("type")??"",l=new Set(["artigo","roteiro","plano-diretor"]).has(s)?s:"all";document.querySelectorAll("[data-filter-chip]").forEach(n=>{const t=n.getAttribute("data-filter-chip"),r=l==="all"&&t==="all"||t===l;n.classList.toggle("is-active",r),r?n.setAttribute("aria-current","page"):n.removeAttribute("aria-current")});try{const t=await(await i(()=>import("./firestore.3eO7oRFa.js"),__vite__mapDeps([0,1,2]))).listPublishedPosts(),r=l==="all"?t:t.filter(o=>o.type===l);if(e.innerHTML="",!r.length){const o=document.createElement("p");o.className="post-empty",o.textContent="Nenhum post publicado ainda.",e.appendChild(o);return}r.forEach(o=>{e.appendChild(h(o))})}catch(n){console.log(n),e.innerHTML="";const t=document.createElement("p");t.className="post-empty",t.textContent="Nao foi possivel carregar posts.",e.appendChild(t)}});
